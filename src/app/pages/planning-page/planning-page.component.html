<th-nav-drawer>
  <ng-container navHeader>{{ (barcamp | async).title }}</ng-container>
  <ng-container navBody>
    <th-configurer></th-configurer>
  </ng-container>
  <ng-container navFooter></ng-container>
</th-nav-drawer>
<div class="container">
  <div class="intro" *ngIf="!(days | async).length">
    <p>
      Plane dein Barcamp indem du zuerst den Zeitraum festlegst, danach die verfügbaren Räume anlegst und
      zuletzt die einzelnen Tage in Zeitslots aufteilst.
    </p>
    <button (click)="addDay()" primary>
      Planung Starten
    </button>
  </div>
  <div *ngFor="let day of days | async">
    <h4>{{ day | date: 'EEE dd.MM.' }}</h4>
    <table>
      <thead>
      <tr>
        <th>Zeit/Raum</th>
        <th *ngFor="let room of rooms | async; let idx = index"
            contenteditable
            (blur)="roomNameChange($event, room, idx)">{{ room }}
        </th>
        <th>
          <button (click)="addRoom()">
            <i class="fa fa-plus"></i>
            Raum
          </button>
        </th>
      </tr>
      </thead>
      <tbody>
      <tr *ngFor="let time of times | async; let idx = index">
        <td>
          <p contenteditable (blur)="startTimeChange($event, time, idx)">{{ time.start | date: 'H:mm' }}</p>
          -
          <p contenteditable (blur)="endTimeChange($event, time, idx)">{{ time.end | date: 'H:mm' }}</p>
        </td>
        <td *ngFor="let room of rooms | async">
          Test
        </td>
      </tr>
      </tbody>
      <tfoot>
      <tr>
        <td>
          <button (click)="addTime()">
            <i class="fa fa-plus"></i>
            Zeitslot
          </button>
        </td>
      </tr>
      </tfoot>
    </table>
  </div>
  <button (click)="addDay()" *ngIf="(days | async).length">
    <i class="fa fa-plus"></i>
    Tag
  </button>
</div>
